﻿
<div id="loginbox" class="mainbox col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3">
    <div class="panel panel-info panel-custom">
        <div class="panel-heading">
            <div class="panel-title font-custom">Авторизация</div>
            <h4>
                <div class="font-custom" style="float:right; font-size: 90%; position: relative; top:-10px"><a
                        [routerLink]="['/password-change']">Сменить пароль</a>
                </div>
            </h4>
        </div>
        <div style="padding-top:30px" class="panel-body">
            <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
            <form
                    id="signinform"
                    name="loginForm"
                    class="form-horizontal font-custom"
                    (ngSubmit)="f.form.valid && login()"
                    #f="ngForm"
                    [formGroup]="loginForm">

                <div class="error " *ngIf="!loginForm.controls['email'].valid && submitted">
                    * Введите корректный email адрес, пожалуйста!
                </div>
                <div style="margin-bottom: 25px" class="input-group"
                     [ngClass]="{'has-error':!loginForm.controls['email'].valid &&  loginForm.controls['email'].dirty
             || submitted && !loginForm.controls['email'].valid}"
                     required>
                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                    <input
                            id="email"
                            type="text"
                            class="form-control font-custom"
                            name="email"
                            placeholder="email"
                            formControlName="email">
                </div>
                <div class="error " *ngIf="!loginForm.controls['password'].valid && submitted">
                    * Удостоверьтесь в правильности пароля,пожалуйста!
                </div>

                <div style="margin-bottom: 25px" class="input-group"
                     [ngClass]="{'has-error':!loginForm.controls['password'].valid  &&  loginForm.controls['password'].dirty
             ||  submitted && !loginForm.controls['password'].valid}"
                     required>
                    <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                    <input id="login-password"
                           type="password"
                           class="form-control font-custom"
                           name="password"
                           placeholder="password"
                           formControlName="password">

                </div>

                <div style="margin-top:10px" class="form-group">
                    <!-- Button -->
                    <div class="col-sm-12 controls">
                        <button class="btn btn-primary font-custom" (click)="setSubmitted(true)">Войти</button>
                        <a [routerLink]="['/register']" class="btn btn-link">Зарегистрироваться</a>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>
